{
  "db": "PostgreSQL",
  "07a9c6dc585911be05890f4a8d9189fb8c84a6bc0b4440aa79230d516b2f0f07": {
    "describe": {
      "columns": [
        {
          "name": "votesmart_candidate_ratings",
          "ordinal": 0,
          "type_info": "Jsonb"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n            SELECT votesmart_candidate_ratings FROM politician\n        "
  },
  "0f110602a378c44b7b98371cd77f70574ff1b5a521bf8f1486abfffa97b62614": {
    "describe": {
      "columns": [
        {
          "name": "office_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "winner_id",
          "ordinal": 1,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n        SELECT\n            office_id,\n            winner_id\n        FROM\n            race r\n            JOIN office ON r.office_id = office.id\n        WHERE\n            winner_id IS NOT NULL\n            AND race_type = 'primary'\n            AND r.office_id = office.id\n   "
  },
  "1d777125f4f6f57d34d98a7dfeac015013724e54b233b546b0d9680699405060": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO bill_sponsors (bill_id, politician_id) VALUES ($1, $2)"
  },
  "4621a8fd6e65f74942b76bb14f8c47e8c9e91dcdcd68547c5aec26a224d9b0c7": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id FROM bill, jsonb_array_elements(legiscan_data->'sponsors') sponsors \n            WHERE sponsors->>'votesmart_id' = $1"
  },
  "61d68cd457828cf5054e406cb81ecf4bd029b09dcefa4acce89c27e63f86ede5": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "votesmart_candidate_id",
          "ordinal": 1,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n            SELECT id, votesmart_candidate_id FROM politician\n        "
  },
  "692bbfb36719c7b398cb0c8e206b926c0fab475e3893125cb9284f2f52d8f12f": {
    "describe": {
      "columns": [
        {
          "name": "race_id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Uuid"
        ]
      }
    },
    "query": "\n            UPDATE\n                race_candidates\n            SET\n                votes = $1\n            WHERE\n                candidate_id = $2\n            RETURNING race_id\n        "
  },
  "9c4ebaba303bf2c02efa39e49df07599a872efd2911c47d1bc62def47d86e2a4": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                                    SELECT id FROM bill WHERE votesmart_bill_id = $1\n                                "
  },
  "9e1e502deb30ac5388a80341ade5c8a039b96f6a9c405e29bb6001da2267f65c": {
    "describe": {
      "columns": [
        {
          "name": "race_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "candidate_id",
          "ordinal": 1,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            INSERT INTO race_candidates (race_id, candidate_id) VALUES ($1, $2) \n            RETURNING race_id, candidate_id\n        "
  },
  "ac45f74b1825a224b0c44ce018be0ab557d7801b6f1dcf3537a80bca8ea2006e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n            INSERT INTO race_candidates (race_id, candidate_id)\n            VALUES((SELECT id FROM race WHERE race.office_id = $1 AND race.race_type = 'general' LIMIT 1), $2)\n            ON CONFLICT DO NOTHING\n        "
  },
  "bcc85127cecb7b5f12f986189406c08955610c9f2aae9d3530b6843655a1b430": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n                                    UPDATE bill\n                                    SET history = history || '[\"newString\"]'::jsonb\n                                    WHERE id = $1\n                                "
  },
  "c638052e67afb83cac82b6d5b7269cb11cfd765825e6a8514670ffaf6d573db5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n            UPDATE\n                politician AS p\n            SET\n                race_losses = race_losses - 1\n            FROM\n                race_candidates AS rc\n            WHERE\n                rc.candidate_id = p.id\n                AND(\n                    SELECT\n                        winner_id FROM race\n                    WHERE\n                        race.id = rc.race_id) IS NOT NULL\n                AND(\n                    SELECT\n                        winner_id FROM race\n                    WHERE\n                        race.id = rc.race_id) != p.id;\n        "
  },
  "ce379a5aee970014002fb4181f0d319619f9ffd79e33b5069baebabf03838d8a": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "votesmart_candidate_id",
          "ordinal": 1,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id, votesmart_candidate_id FROM politician"
  },
  "d27424268ceea212f43ee19bc048ab0727e551ea6f72616dade5e05315320adc": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n            UPDATE\n                politician AS p\n            SET\n                race_wins = race_wins + 1\n            FROM\n                race AS r\n            WHERE\n                r.winner_id = p.id\n                AND((\n                    SELECT\n                        COUNT(*)\n                        FROM race_candidates rc\n                    WHERE\n                        rc.race_id = r.id) > 1);\n        "
  },
  "d7be1cf3a22986c1b5bb93c6a93336a37c474fcced2c8cd43b0605563ce1a390": {
    "describe": {
      "columns": [
        {
          "name": "first_name",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "last_name",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Jsonb",
          "Uuid"
        ]
      }
    },
    "query": "\n                            UPDATE politician\n                            SET votesmart_candidate_ratings = $1\n                            WHERE id = $2\n                            RETURNING first_name, last_name\n                            "
  },
  "f88284b4138050b0974bcb523246d0d89cf4fc521d1725c5f3819c67d451bb66": {
    "describe": {
      "columns": [
        {
          "name": "race_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "candidate_id",
          "ordinal": 1,
          "type_info": "Uuid"
        },
        {
          "name": "is_running",
          "ordinal": 2,
          "type_info": "Bool"
        },
        {
          "name": "date_announced",
          "ordinal": 3,
          "type_info": "Date"
        },
        {
          "name": "date_qualified",
          "ordinal": 4,
          "type_info": "Date"
        },
        {
          "name": "date_dropped",
          "ordinal": 5,
          "type_info": "Date"
        },
        {
          "name": "reason_dropped",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "qualification_method",
          "ordinal": 7,
          "type_info": "Text"
        },
        {
          "name": "qualification_info",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "created_at",
          "ordinal": 9,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 10,
          "type_info": "Timestamptz"
        },
        {
          "name": "votes",
          "ordinal": 11,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        true,
        false,
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      }
    },
    "query": "\n                    INSERT INTO race_candidates (race_id, candidate_id) VALUES ($1, $2) RETURNING *\n                "
  },
  "fad3cc74ab2e17c68adcfc43c5f1904457cc5a5eab8c5e3a661d5c6648ca2060": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "SELECT id FROM politician WHERE votesmart_candidate_id = $1"
  },
  "fce572fca4689baee4735aa6ae6c6abc9e38fa3941e7ae7ebb5e6dbea279408a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Uuid"
        ]
      }
    },
    "query": "\n            UPDATE race\n            SET total_votes = $1,\n                winner_id = (SELECT candidate_id FROM race_candidates WHERE race_id = $2 ORDER BY votes DESC LIMIT 1)\n            WHERE id = $2\n            "
  }
}